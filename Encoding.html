<html>
    <head>
        <title>My experiment</title>
        <script src="jspsych-6.3.0/jspsych.js"></script>
        <script src="jspsych-6.3.0/plugins/jspsych-canvas-keyboard-response.js"></script>
        <link href="jspsych-6.3.0/css/jspsych.css" rel="stylesheet" type="text/css">
        <style>
            .parent {
              position: relative;
              width: 300px;
              height: 300px;
              background-image: url(https://placehold.it/300);
              border: 5px blue solid;
            }
            .foreground {
              position: absolute;
              top: 30px;
              left: 30px;
              border: 5px red solid;
            }
          </style>
    </head>
    <body></body>
    <script>

var canvasW = 1200 // width of the drawing area (px)
var canvasH = 600 // height of the drawing area (px)
var objectH = 200 // height of the probe (px)
var objectW = 200 // width of the probe (px)
var sceneW = 1000 // width of the alternatives (px)
var sceneH = sceneW*(412/600) // height of the alternatives (px)

var enc_trial = {
  type: 'canvas-keyboard-response',
  stimulus: function(c) {
    // c.style.border = "5px solid #A9A9A9";
    // present images on a canvas at specific locations
    var ctx = c.getContext('2d');
    var object = new Image();
    var scene = new Image();
    var images = ['stim/objects/Backpack_1_br.png', 'stim/scenes/Airport1.jpg']
    object.src = 'stim/objects/Backpack_1_br.png';
    scene.src = 'stim/scenes/Airport1.jpg';
    scene.addEventListener('load', function() {
      var centerx = canvasW/2 - sceneW/2;
      var centery = canvasH/2 - sceneH/2;
      ctx.drawImage(scene, centerx, centery, sceneW, sceneH);
      var centerx = canvasW/2 - objectW/2;
      var centery = canvasH/2 - objectH/2;
      ctx.drawImage(object, centerx, centery-200, objectW, objectH);
    }, false);
  },
  canvas_size: [canvasH, canvasW],
  choices: ['1','2','3','4','5','6'],
  trial_duration: null
};

// initialize jsPsych

 jsPsych.init({
     timeline: [enc_trial]
 })

 </script>

<!-- <div class='parent'>
<img class="foreground" src="https://placehold.it/50" />
</div> -->

</html>
