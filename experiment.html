<!DOCTYPE html>
<html>
    <head>
        <title>My experiment</title>
        <script src="jspsych-6.3.0/jspsych.js"></script>
        <script src="jspsych-6.3.0/plugins/jspsych-html-keyboard-response.js"></script>
        <link href="jspsych-6.3.0/css/jspsych.css" rel="stylesheet" type="text/css">
        <style>
            .parent {
              position: relative;
              width: 300px;
              height: 300px;
              background-image: url(https://placehold.it/300);
              border: 5px blue solid;
            }
            .foreground {
              position: absolute;
              top: 30px;
              left: 30px;
              border: 5px red solid;
            }
          </style>
    </head>
    <body></body>
    <script>

    // experiment wide

    var iti = {
        type: 'html-keyboard-response',
        stimulus: '<p style="font-size: 48px;">+</p>',
        choices: jsPsych.NO_KEYS,
        trial_duration: 1000,
     };

     var image_example = "<div class='parent'><img class='foreground' src='https://placehold.it/50' /></div>";

     // encoding specific

     var enc_instruction = {
      type: 'html-keyboard-response',
      stimulus: '<p style="font-size: 48px;">How Likely is the object to be found in the scene?</p><p>1- Likely 2 - Unlikely</p>',
      choices: jsPsych.NO_KEYS,
      trial_duration: 4000,
     };

    var encoding_stimulus = {
        type: 'html-keyboard-response',
        stimulus: jsPsych.timelineVariable('image'),
        prompt: '1- Likely 2 - Unlikely',
        trial_duration: 4000,
        response_ends_trial: false,
        choices: ['1','2'],
    };

    var encoding_trials = {
      timeline: [iti, encoding_stimulus],
      timeline_variables: [{image: image_example}, {image: image_example}]
    }

    // enc_instruction
    var encoding = {timeline: [enc_instruction, encoding_trials, iti]}

   // PRACTICE

   // Restudy

   var restudy_instructions = {
     type: 'html-keyboard-response',
     stimulus: '<p style="font-size: 48px;">RESTUDY</p>',
     choices: jsPsych.NO_KEYS,
     trial_duration: 4000,
   }

   var restudy_stimulus = {
       type: 'html-keyboard-response',
       stimulus: jsPsych.timelineVariable('image'),
       trial_duration: 6000,
       response_ends_trial: false,
       choices: ['1','2'],
   };

   var restudy_trials = {
     timeline: [iti, restudy_stimulus],
     timeline_variables: [{image: image_example}, {image: image_example}],
   }

   var restudy = {timeline: [restudy_instructions, restudy_trials]}

   // practice
   

    jsPsych.init({
        timeline: [encoding, restudy]
    })

    </script>

<!-- <div class='parent'>
  <img class="foreground" src="https://placehold.it/50" />
</div> -->

</html>
